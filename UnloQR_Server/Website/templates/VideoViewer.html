{% extends "base.html" %} {% block title %} Home {% endblock %}

{% block content%}
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<h1 align="center">Logs ({{ user.name }})</h1>
<body>

  <div class="row align-items-end">
    <div class="col text-left">
      <p class=" col text-left ml-1"><a class="link-primary" href="{{url_for('views.home')}}"><u><-Back</u></a></p>
    </div>

    <div class="col text-right">
      <button type="button" class="btn btn-danger mr-4 mb-2" data-toggle="modal" data-target="#exampleModalCenter"><i class="fa fa-minus"></i> Delete User</button>
    </div>
          <div class="col text-right">
      <button type="button" class="btn btn-danger mr-4 mb-2" data-toggle="modal" data-target="#vidmodal"><i class="fa fa-minus"></i> Modal User</button>
    </div>
  </div>

  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Delete Warning</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete this user?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
          <a href="{{ url_for('auth.delete_user_with_id', uid=user.id) }}" role="button" class="btn btn-danger" > Delete </a>
        </div>
      </div>
    </div>
  </div>

  <table class="table mt-3">
    <thread>
      <tr>
        <th class="col text_left col-md-3"> Time </th>
        <th class="col text_left col-md-auto"> Activity </th>
        <th class="col-lg- text-center col-md-auto"> Video </th>
      </tr>
    </thread>
    <tbody>
        {% for log in user.logs[::-1] %}
        <tr>
          <th class="text-left">{{ log.time }}</th>
          <td class="text-left">{{ log.activity }}</td>
          <td class="text-center"><a class="link-primary" href="{{url_for('auth.logs_view', uid=user.id) }}">Watch</a></td>
        </tr>
        {% endfor %}

    </tbody>
  </table>

{% block VidModal %}
  <div class="modal fade" id="vidmodal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="vid_modal_t">Video</h5>
          <a href="{{ url_for('auth.close_vid', uid=user.id) }}" type="button" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </a>
        </div>
        <div class="modal-body">
          <img src="{{ url_for('auth.play_vid', uid=user.id) }}" width="100%" >
        </div>
        <div class="modal-footer">
          <a href="{{ url_for('auth.close_vid', uid=user.id) }}" type="button" class="btn btn-secondary"> Close </a>
          <a href="{{ url_for('auth.play_vid', uid=user.id) }}" role="button" class="btn btn-danger" > Full Screen </a>
        </div>
      </div>
    </div>
  </div>


{% endblock %}

</body>

{% block script %}
<script type="text/javascript">
    window.onload = () => {
        $('#vidmodal').modal('show');
    }
</script>
{% endblock %}

{% endblock %}



